{"remainingRequest":"/Users/sserrata/projects/cortex.pan.dev/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/sserrata/projects/cortex.pan.dev/node_modules/@docusaurus/theme-classic/src/theme/hooks/useTOCHighlight.js","dependencies":[{"path":"/Users/sserrata/projects/cortex.pan.dev/node_modules/@docusaurus/theme-classic/src/theme/hooks/useTOCHighlight.js","mtime":1573222772330},{"path":"/Users/sserrata/projects/cortex.pan.dev/node_modules/cache-loader/dist/cjs.js","mtime":1571778479501},{"path":"/Users/sserrata/projects/cortex.pan.dev/node_modules/babel-loader/lib/index.js","mtime":1571778479497}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLgogKgogKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGUKICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgogKi8KaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKCmZ1bmN0aW9uIHVzZVRPQ0hpZ2hsaWdodChsaW5rQ2xhc3NOYW1lLCBsaW5rQWN0aXZlQ2xhc3NOYW1lLCB0b3BPZmZzZXQpIHsKICBjb25zdCBbbGFzdEFjdGl2ZUxpbmssIHNldExhc3RBY3RpdmVMaW5rXSA9IHVzZVN0YXRlKHVuZGVmaW5lZCk7CiAgdXNlRWZmZWN0KCgpID0+IHsKICAgIGxldCBoZWFkZXJzQW5jaG9ycyA9IFtdOwogICAgbGV0IGxpbmtzID0gW107CgogICAgZnVuY3Rpb24gc2V0QWN0aXZlTGluaygpIHsKICAgICAgZnVuY3Rpb24gZ2V0QWN0aXZlSGVhZGVyQW5jaG9yKCkgewogICAgICAgIGxldCBpbmRleCA9IDA7CiAgICAgICAgbGV0IGFjdGl2ZUhlYWRlckFuY2hvciA9IG51bGw7CiAgICAgICAgaGVhZGVyc0FuY2hvcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhbmNob3InKTsKCiAgICAgICAgd2hpbGUgKGluZGV4IDwgaGVhZGVyc0FuY2hvcnMubGVuZ3RoICYmICFhY3RpdmVIZWFkZXJBbmNob3IpIHsKICAgICAgICAgIGNvbnN0IGhlYWRlckFuY2hvciA9IGhlYWRlcnNBbmNob3JzW2luZGV4XTsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgdG9wCiAgICAgICAgICB9ID0gaGVhZGVyQW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICAgIGlmICh0b3AgPj0gMCAmJiB0b3AgPD0gdG9wT2Zmc2V0KSB7CiAgICAgICAgICAgIGFjdGl2ZUhlYWRlckFuY2hvciA9IGhlYWRlckFuY2hvcjsKICAgICAgICAgIH0KCiAgICAgICAgICBpbmRleCArPSAxOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFjdGl2ZUhlYWRlckFuY2hvcjsKICAgICAgfQoKICAgICAgY29uc3QgYWN0aXZlSGVhZGVyQW5jaG9yID0gZ2V0QWN0aXZlSGVhZGVyQW5jaG9yKCk7CgogICAgICBpZiAoYWN0aXZlSGVhZGVyQW5jaG9yKSB7CiAgICAgICAgbGV0IGluZGV4ID0gMDsKICAgICAgICBsZXQgaXRlbUhpZ2hsaWdodGVkID0gZmFsc2U7CiAgICAgICAgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGxpbmtDbGFzc05hbWUpOwoKICAgICAgICB3aGlsZSAoaW5kZXggPCBsaW5rcy5sZW5ndGggJiYgIWl0ZW1IaWdobGlnaHRlZCkgewogICAgICAgICAgY29uc3QgbGluayA9IGxpbmtzW2luZGV4XTsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgaHJlZgogICAgICAgICAgfSA9IGxpbms7CiAgICAgICAgICBjb25zdCBhbmNob3JWYWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudChocmVmLnN1YnN0cmluZyhocmVmLmluZGV4T2YoJyMnKSArIDEpKTsKCiAgICAgICAgICBpZiAoYWN0aXZlSGVhZGVyQW5jaG9yLmlkID09PSBhbmNob3JWYWx1ZSkgewogICAgICAgICAgICBpZiAobGFzdEFjdGl2ZUxpbmspIHsKICAgICAgICAgICAgICBsYXN0QWN0aXZlTGluay5jbGFzc0xpc3QucmVtb3ZlKGxpbmtBY3RpdmVDbGFzc05hbWUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQobGlua0FjdGl2ZUNsYXNzTmFtZSk7CiAgICAgICAgICAgIHNldExhc3RBY3RpdmVMaW5rKGxpbmspOwogICAgICAgICAgICBpdGVtSGlnaGxpZ2h0ZWQgPSB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGluZGV4ICs9IDE7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2V0QWN0aXZlTGluayk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzZXRBY3RpdmVMaW5rKTsKICAgIHNldEFjdGl2ZUxpbmsoKTsKICAgIHJldHVybiAoKSA9PiB7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNldEFjdGl2ZUxpbmspOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzZXRBY3RpdmVMaW5rKTsKICAgIH07CiAgfSk7Cn0KCmV4cG9ydCBkZWZhdWx0IHVzZVRPQ0hpZ2hsaWdodDs="},{"version":3,"sources":["/Users/sserrata/projects/cortex.pan.dev/node_modules/@docusaurus/theme-classic/src/theme/hooks/useTOCHighlight.js"],"names":["useEffect","useState","useTOCHighlight","linkClassName","linkActiveClassName","topOffset","lastActiveLink","setLastActiveLink","undefined","headersAnchors","links","setActiveLink","getActiveHeaderAnchor","index","activeHeaderAnchor","document","getElementsByClassName","length","headerAnchor","top","getBoundingClientRect","itemHighlighted","link","href","anchorValue","decodeURIComponent","substring","indexOf","id","classList","remove","add","addEventListener","removeEventListener"],"mappings":"AAAA;;;;;;AAOA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;;AAEA,SAASC,eAAT,CAAyBC,aAAzB,EAAwCC,mBAAxC,EAA6DC,SAA7D,EAAwE;AACtE,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCN,QAAQ,CAACO,SAAD,CAApD;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,cAAc,GAAG,EAArB;AACA,QAAIC,KAAK,GAAG,EAAZ;;AAEA,aAASC,aAAT,GAAyB;AACvB,eAASC,qBAAT,GAAiC;AAC/B,YAAIC,KAAK,GAAG,CAAZ;AACA,YAAIC,kBAAkB,GAAG,IAAzB;AAEAL,QAAAA,cAAc,GAAGM,QAAQ,CAACC,sBAAT,CAAgC,QAAhC,CAAjB;;AACA,eAAOH,KAAK,GAAGJ,cAAc,CAACQ,MAAvB,IAAiC,CAACH,kBAAzC,EAA6D;AAC3D,gBAAMI,YAAY,GAAGT,cAAc,CAACI,KAAD,CAAnC;AACA,gBAAM;AAACM,YAAAA;AAAD,cAAQD,YAAY,CAACE,qBAAb,EAAd;;AAEA,cAAID,GAAG,IAAI,CAAP,IAAYA,GAAG,IAAId,SAAvB,EAAkC;AAChCS,YAAAA,kBAAkB,GAAGI,YAArB;AACD;;AAEDL,UAAAA,KAAK,IAAI,CAAT;AACD;;AAED,eAAOC,kBAAP;AACD;;AAED,YAAMA,kBAAkB,GAAGF,qBAAqB,EAAhD;;AAEA,UAAIE,kBAAJ,EAAwB;AACtB,YAAID,KAAK,GAAG,CAAZ;AACA,YAAIQ,eAAe,GAAG,KAAtB;AAEAX,QAAAA,KAAK,GAAGK,QAAQ,CAACC,sBAAT,CAAgCb,aAAhC,CAAR;;AACA,eAAOU,KAAK,GAAGH,KAAK,CAACO,MAAd,IAAwB,CAACI,eAAhC,EAAiD;AAC/C,gBAAMC,IAAI,GAAGZ,KAAK,CAACG,KAAD,CAAlB;AACA,gBAAM;AAACU,YAAAA;AAAD,cAASD,IAAf;AACA,gBAAME,WAAW,GAAGC,kBAAkB,CACpCF,IAAI,CAACG,SAAL,CAAeH,IAAI,CAACI,OAAL,CAAa,GAAb,IAAoB,CAAnC,CADoC,CAAtC;;AAIA,cAAIb,kBAAkB,CAACc,EAAnB,KAA0BJ,WAA9B,EAA2C;AACzC,gBAAIlB,cAAJ,EAAoB;AAClBA,cAAAA,cAAc,CAACuB,SAAf,CAAyBC,MAAzB,CAAgC1B,mBAAhC;AACD;;AACDkB,YAAAA,IAAI,CAACO,SAAL,CAAeE,GAAf,CAAmB3B,mBAAnB;AACAG,YAAAA,iBAAiB,CAACe,IAAD,CAAjB;AACAD,YAAAA,eAAe,GAAG,IAAlB;AACD;;AAEDR,UAAAA,KAAK,IAAI,CAAT;AACD;AACF;AACF;;AAEDE,IAAAA,QAAQ,CAACiB,gBAAT,CAA0B,QAA1B,EAAoCrB,aAApC;AACAI,IAAAA,QAAQ,CAACiB,gBAAT,CAA0B,QAA1B,EAAoCrB,aAApC;AAEAA,IAAAA,aAAa;AAEb,WAAO,MAAM;AACXI,MAAAA,QAAQ,CAACkB,mBAAT,CAA6B,QAA7B,EAAuCtB,aAAvC;AACAI,MAAAA,QAAQ,CAACkB,mBAAT,CAA6B,QAA7B,EAAuCtB,aAAvC;AACD,KAHD;AAID,GA7DQ,CAAT;AA8DD;;AAED,eAAeT,eAAf","sourcesContent":["/**\n * Copyright (c) 2017-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {useEffect, useState} from 'react';\n\nfunction useTOCHighlight(linkClassName, linkActiveClassName, topOffset) {\n  const [lastActiveLink, setLastActiveLink] = useState(undefined);\n\n  useEffect(() => {\n    let headersAnchors = [];\n    let links = [];\n\n    function setActiveLink() {\n      function getActiveHeaderAnchor() {\n        let index = 0;\n        let activeHeaderAnchor = null;\n\n        headersAnchors = document.getElementsByClassName('anchor');\n        while (index < headersAnchors.length && !activeHeaderAnchor) {\n          const headerAnchor = headersAnchors[index];\n          const {top} = headerAnchor.getBoundingClientRect();\n\n          if (top >= 0 && top <= topOffset) {\n            activeHeaderAnchor = headerAnchor;\n          }\n\n          index += 1;\n        }\n\n        return activeHeaderAnchor;\n      }\n\n      const activeHeaderAnchor = getActiveHeaderAnchor();\n\n      if (activeHeaderAnchor) {\n        let index = 0;\n        let itemHighlighted = false;\n\n        links = document.getElementsByClassName(linkClassName);\n        while (index < links.length && !itemHighlighted) {\n          const link = links[index];\n          const {href} = link;\n          const anchorValue = decodeURIComponent(\n            href.substring(href.indexOf('#') + 1),\n          );\n\n          if (activeHeaderAnchor.id === anchorValue) {\n            if (lastActiveLink) {\n              lastActiveLink.classList.remove(linkActiveClassName);\n            }\n            link.classList.add(linkActiveClassName);\n            setLastActiveLink(link);\n            itemHighlighted = true;\n          }\n\n          index += 1;\n        }\n      }\n    }\n\n    document.addEventListener('scroll', setActiveLink);\n    document.addEventListener('resize', setActiveLink);\n\n    setActiveLink();\n\n    return () => {\n      document.removeEventListener('scroll', setActiveLink);\n      document.removeEventListener('resize', setActiveLink);\n    };\n  });\n}\n\nexport default useTOCHighlight;\n"]}]}